(function(t){function e(e){for(var n,o,c=e[0],r=e[1],l=e[2],d=0,f=[];d<c.length;d++)o=c[d],i[o]&&f.push(i[o][0]),i[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,c=1;c<a.length;c++){var r=a[c];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/kh-tourism/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=a("2f62"),s=a("bc3a"),o=a.n(s),c=a("a7fe"),r=a.n(c),l=a("9062"),u=a.n(l),d=(a("e40d"),a("4989"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Index"),t._m(0)],1)}),f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"text-center bg-info text-white py-4"},[a("div",[t._v("高雄旅遊網")]),a("div",[t._v("資料來源：高雄市政府")])])}],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("header",{staticClass:"header"},[a("div",{staticClass:"container text-center"},[a("h1",{staticClass:"text-white",staticStyle:{"margin-bottom":"95px"}},[t._v("高雄旅遊資訊")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-sm-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedZone,expression:"selectedZone"}],staticClass:"form-control input-lg",attrs:{name:"",id:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedZone=e.target.multiple?a:a[0]},t.changeZone]}},[a("option",{attrs:{value:""}},[t._v("--請選擇行政區--")]),t._l(t.zones,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2)])])])]),a("section",{staticStyle:{"margin-top":"-15px"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"bg-white p-3 shadow-sm"},[a("h4",[t._v("熱門行政區")]),a("button",{staticClass:"btn btn-primary px-4",on:{click:function(e){t.selectZone("苓雅區")}}},[t._v("苓雅區")])])])])])]),a("div",{staticClass:"container"},[a("hr",{staticClass:"my-5"}),a("section",[a("div",{staticClass:"row"},t._l(t.data,function(e){return a("div",{key:e.Id,staticClass:"col-sm-6"},[a("div",{staticClass:"card shadow-sm border-0"},[a("div",{staticClass:"card-header bg-cover",staticStyle:{height:"155px"},style:{backgroundImage:"url("+e.Picture1+")"}}),a("div",{staticClass:"card-body "},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{staticClass:"d-flex"},[t._m(0,!0),t._v("\n                  "+t._s(e.Opentime))]),a("li",{staticClass:"d-flex"},[t._m(1,!0),t._v("\n                  "+t._s(e.Add))]),a("li",{staticClass:"d-flex"},[t._m(2,!0),t._v("\n                  "+t._s(e.Tel))]),a("li",{staticClass:"d-flex"},[t._m(3,!0),t._v("\n                  "+t._s(e.Ticketinfo))])])])])])}))]),a("div",{staticClass:"d-flex justify-content-center my-5"},[a("Pagination",{attrs:{"current-page":t.pagination.currentPage,"total-pages":t.pagination.totalPage,"has-pre":t.pagination.hasPre,"has-next":t.pagination.hasNext},on:{gopage:t.goPage}})],1)])],1)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center",staticStyle:{width:"30px"}},[a("i",{staticClass:"fas fa-clock text-primary"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center",staticStyle:{width:"30px"}},[a("i",{staticClass:"fas fa-map-marker text-warning"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center",staticStyle:{width:"30px"}},[a("i",{staticClass:"fas fa-mobile-alt text-info"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center",staticStyle:{width:"30px"}},[a("i",{staticClass:"fas fa-ticket-alt text-success"})])}],v=a("be94"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!t.hasPre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.prev(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.totalPages,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.currentPage===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.goPage(e)}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item",class:{disabled:!t.hasNext}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.next(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),a("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])},h=[],_=(a("c5f6"),{name:"Pagination",props:{currentPage:{type:Number,default:1},totalPages:{type:Number,default:0},hasPre:{type:Boolean,default:!1},hasNext:{type:Boolean,default:!1}},data:function(){return{}},methods:{prev:function(){this.goPage(this.currentPage-1)},goPage:function(t){this.$emit("gopage",t)},next:function(){this.goPage(this.currentPage+1)}}}),b=_,x=(a("9454"),a("2877")),P=Object(x["a"])(b,m,h,!1,null,"8bea7d1c",null);P.options.__file="Pagination.vue";var y=P.exports,C={name:"Index",components:{Pagination:y},data:function(){return{}},methods:Object(v["a"])({},Object(i["b"])(["getZones","getData"]),{goPage:function(t){this.$store.dispatch("goPage",t)},changeZone:function(t){this.selectZone(t.target.value)},selectZone:function(t){this.$store.dispatch("selectZone",t)}}),computed:Object(v["a"])({},Object(i["c"])(["isLoading","zones","data","selectedZone","pagination"])),created:function(){this.getZones(),this.getData()}},O=C,N=(a("8cf7"),Object(x["a"])(O,p,g,!1,null,"a0f8f3f0",null));N.options.__file="Index.vue";var w=N.exports,Z={name:"app",components:{Index:w}},A=Z,j=(a("5c0b"),Object(x["a"])(A,d,f,!1,null,null,null));j.options.__file="App.vue";var k=j.exports;a("5df3"),a("1c4c");n["a"].use(i["a"]);var I={state:{zones:[],data:[],selectedZone:"",pagination:{currentPage:1,totalPage:1,hasPre:!1,hasNext:!1,limit:10,total:0}},actions:{getZones:function(t){t.commit("LOADING",!0,{root:!0}),o.a.get("".concat("https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97","&fields=%22Zone%22&distinct=true&limit=1000")).then(function(e){t.commit("ZONES",Array.from(e.data.result.records,function(t){return t.Zone})),t.commit("LOADING",!1,{root:!0})})},getData:function(t){var e=t.state,a=e.pagination,n=e.selectedZone;t.commit("LOADING",!0,{root:!0}),o.a.get("".concat("https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97","&offset=").concat(10*(a.currentPage-1)+1,"&limit=").concat(a.limit).concat(n&&""!==n?'&filters={"Zone":"'.concat(n,'"}'):"")).then(function(e){t.commit("DATA",e.data.result.records),t.commit("PAGINATION",Object(v["a"])({},a,{total:e.data.result.total})),t.commit("LOADING",!1,{root:!0})})},goPage:function(t,e){t.commit("PAGINATION",Object(v["a"])({},t.state.pagination,{currentPage:e})),t.dispatch("getData")},selectZone:function(t,e){t.commit("SELECTED_ZONE",e),t.commit("PAGINATION",Object(v["a"])({},t.state.pagination,{currentPage:1})),t.dispatch("getData")}},mutations:{ZONES:function(t,e){t.zones=e},DATA:function(t,e){t.data=e},SELECTED_ZONE:function(t,e){t.selectedZone=e},PAGINATION:function(t,e){t.pagination=e,t.pagination.totalPage=Math.floor(t.pagination.total/t.pagination.limit)+(t.pagination.total%t.pagination.limit===0?0:1),t.pagination.hasPre=t.pagination.totalPage>1&&t.pagination.currentPage>1,t.pagination.hasNext=t.pagination.totalPage>t.pagination.currentPage}},getters:{zones:function(t){return t.zones},data:function(t){return t.data},selectedZone:function(t){return t.selectedZone},pagination:function(t){return t.pagination}}};n["a"].use(i["a"]);var D={state:{isLoading:!0},actions:{updateLoading:function(t,e){t.commit("LOADING",e)}},mutations:{LOADING:function(t,e){t.isLoading=e}},getters:{isLoading:function(t){return t.isLoading}}};n["a"].use(i["a"]);var E=new i["a"].Store({modules:{indexModules:I,loadingModules:D}});n["a"].config.productionTip=!1,n["a"].use(i["a"]),n["a"].use(r.a,o.a),n["a"].component("Loading",u.a),new n["a"]({store:E,render:function(t){return t(k)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),i=a.n(n);i.a},"5e27":function(t,e,a){},"8cf7":function(t,e,a){"use strict";var n=a("e35a"),i=a.n(n);i.a},9454:function(t,e,a){"use strict";var n=a("cb44"),i=a.n(n);i.a},cb44:function(t,e,a){},e35a:function(t,e,a){}});
//# sourceMappingURL=app.a6386e65.js.map